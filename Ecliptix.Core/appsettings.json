{
  "Serilog": {
    "Using": [
      "Serilog.Sinks.Console",
      "Serilog.Sinks.File"
    ],
    "MinimumLevel": {
      "Default": "Debug",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.AspNetCore": "Warning",
        "System": "Warning",
        "Microsoft.Hosting.Lifetime": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {SourceContext} {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/ecliptix-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {SourceContext} {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithThreadId",
      "WithEnvironmentName",
      "WithMachineName"
    ],
    "Properties": {
      "Application": "Ecliptix"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "EcliptixMemberships": "Data Source=78.152.175.67;Initial Catalog=EcliptixMemberships;Integrated Security=False;User ID=ef_migrator;Password=Grimm_jow92;Connect Timeout=30;Encrypt=False;TrustServerCertificate=True;ApplicationIntent=ReadWrite;MultiSubnetFailover=False;"
  },
  "TwilioSettings": {
    "AccountSid": "ACad7f77daf31cea19edd71654e541ec06",
    "AuthToken": "17c0ef73ad5da9086724210a23901e8c",
    "MobileNumber": "+19284664049",
    "SmsCallBackUrl": "/api/sms/callback"
  },
  "Kestrel": {
    "EndpointDefaults": {
      "Protocols": "Http2"
    }
  },
  "SecurityKeys": {
    "KeyExchangeContextTypeKey": "oiwfT6c5kOQsZozxhTBg",
    "KeyExchangeContextTypeValue": "JmTGdGilMka07zyg5hz6Q",
    "OpaqueSecretKeySeed": "0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"
  },
  "akka": {
    "loglevel": "INFO",
    "log-dead-letters": 10,
    "log-dead-letters-during-shutdown": "on"
  },
  "Security": {
    "VerificationFlow": {
      "SessionTimeoutSeconds": 60,
      "OtpUpdateIntervalSeconds": 1,
      "OtpExpirationSeconds": 30,
      "CheckExistingMembershipTimeoutSeconds": 10,
      "MembershipCreationTimeoutSeconds": 20,
      "ResendOtpCheckTimeoutSeconds": 15,
      "CreateOtpTimeoutSeconds": 20,
      "UpdateOtpStatusTimeoutSeconds": 10,
      "ChannelWriteTimeoutSeconds": 30,
      "FallbackCleanupDelaySeconds": 10,
      "MaxSmsRetries": 3
    },
    "Cryptography": {
      "Argon2MemorySize": 262144,
      "Argon2Iterations": 4,
      "Argon2DegreeOfParallelism": 4,
      "EnhancedKeyOutputLength": 64,
      "MasterKeySize": 32,
      "DefaultThreshold": 3,
      "DefaultTotalShares": 5,
      "AskTimeoutSeconds": 30
    },
    "Authentication": {
      "PendingSignInTimeoutSeconds": 600,
      "PendingPasswordRecoveryTimeoutSeconds": 600,
      "CleanupIntervalSeconds": 300,
      "PasswordRecoveryCleanupIntervalSeconds": 120
    },
    "OtpHashing": {
      "SaltSize": 32,
      "Pbkdf2Iterations": 100000,
      "HashOutputLength": 32
    },
    "VerificationFlowLimits": {
      "MaxOtpSendsPerFlow": 5,
      "PasswordRecoveryAttemptsPerHourPerMobile": 3,
      "PasswordRecoveryAttemptsPerHourPerDevice": 3,
      "VerificationFlowInitiationsPerHourPerMobile": 10,
      "VerificationFlowInitiationsPerHourPerDevice": 15
    },
    "MembershipActor": {
      "PendingSignInTimeoutMinutes": 10,
      "PendingPasswordRecoveryTimeoutMinutes": 10,
      "CleanupIntervalMinutes": 5,
      "PasswordRecoveryCleanupIntervalMinutes": 2,
      "SnapshotInterval": 100
    },
    "VerificationFlowActor": {
      "SnapshotInterval": 100,
      "SessionValidityCheckTimeoutSeconds": 5,
      "ActorTerminationMinTimeoutSeconds": 5,
      "CircuitBreakerWithinTimeRangeMinutes": 1
    },
    "VerificationFlowPersistor": {
      "FlowExpirationMinutes": 15,
      "RateLimitLookbackHours": 1,
      "MaxFlowsPerHourPerMobile": 30,
      "MaxFlowsPerHourPerDevice": 10,
      "PasswordRecoveryLookbackHours": 1
    },
    "MembershipPersistor": {
      "LoginLockoutDurationMinutes": 10,
      "MaxLoginAttemptsInPeriod": 5,
      "FailedLoginLookbackMinutes": 5,
      "DeviceContextExpirationDays": 30,
      "MembershipCreationWindowHours": 1,
      "MaxMembershipCreationAttempts": 5,
      "PasswordRecoveryValidationWindowMinutes": 10
    }
  },
  "Network": {
    "Ports": {
      "Grpc": 5051,
      "Http": 8080
    },
    "Limits": {
      "MaxConcurrentConnections": 1000,
      "MaxConcurrentUpgradedConnections": 1000,
      "MaxRequestBodySizeBytes": 10485760
    },
    "RateLimit": {
      "PermitLimit": 100,
      "WindowMinutes": 1,
      "SegmentsPerWindow": 4,
      "QueueLimit": 10
    },
    "Compression": {
      "Algorithm": "gzip"
    }
  }
}
